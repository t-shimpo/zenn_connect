---
title: "LeetCode 49. Group Anagrams (Python3)"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "python"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ49. Group Anagramsã€ã®å•é¡Œã‚’ **Python3** ã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/group-anagrams/description/

### å•é¡Œæ–‡
Given an array of strings strs, group the anagrams together. You can return the answer in any order.

**å’Œè¨³**
æ–‡å­—åˆ—ã®é…åˆ—strsãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€ã‚¢ãƒŠã‚°ãƒ©ãƒ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¾ã™ã€‚ç­”ãˆã¯ä»»æ„ã®é †åºã§è¿”ã—ã¦æ§‹ã‚ãªã„ã€‚


### ä¾‹
1.
```
Input: strs = ["eat","tea","tan","ate","nat","bat"]

Output: [["bat"],["nat","tan"],["ate","eat","tea"]]

Explanation:

There is no string in strs that can be rearranged to form "bat".
The strings "nat" and "tan" are anagrams as they can be rearranged to form each other.
The strings "ate", "eat", and "tea" are anagrams as they can be rearranged to form each other.
```

2.
```
Input: strs = [""]

Output: [[""]]
```

3.
```
Input: strs = ["a"]

Output: [["a"]]
```

### åˆ¶ç´„
- 1 <= strs.length <= 104
- 0 <= strs[i].length <= 100
- strs[i] consists of lowercase English letters.

## è§£ç­”1
å˜èªã®é…åˆ—ã‹ã‚‰ã€ã‚¢ãƒŠã‚°ãƒ©ãƒ ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹å•é¡Œã§ã™ã€‚

åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã«å±ã™ã‚‹å˜èªãŸã¡ã¯ã€åŒã˜ç‰¹å¾´ï¼ˆã‚­ãƒ¼ï¼‰ã‚’æŒã£ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚
ãã®ã‚­ãƒ¼ã‚’**ã‚½ãƒ¼ãƒˆã—ãŸæ–‡å­—åˆ—**ã¨ã—ã¦è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ãˆã°ï¼š
- "eat" â†’ "aet"
- "tea" â†’ "aet"
- "ate" â†’ "aet"

åŒã˜ "aet" ã¨ã„ã†ã‚­ãƒ¼ã§ã¾ã¨ã‚ã‚‰ã‚Œã‚‹ãŸã‚ã€ã‚¢ãƒŠã‚°ãƒ©ãƒ åŒå£«ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã§ãã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```py
class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        groups = collections.defaultdict(list)
        for s in strs:
            key = "".join(sorted(s))
            groups[key].append(s)
        return list(groups.values())
```

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n * m log m)
    - å„æ–‡å­—ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ã®ã« O(m log m) (mã¯å˜èªã®é•·ã•)
    - ã“ã‚Œã‚’nå€‹ã®å˜èªã«å¯¾ã—ã¦è¡Œã†
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(n * m)


## è§£ç­”2
æ¬¡ã«ã€æ–‡å­—ã®å‡ºç¾å›æ•°ã‚’ã‚­ãƒ¼ã¨ã™ã‚‹æ–¹æ³•ã§ã™ã€‚

ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã¯ 26 ç¨®é¡ã—ã‹ãªã„ã®ã§ã€å„æ–‡å­—ã®å‡ºç¾å›æ•°ã‚’è¨˜éŒ²ã—ãŸé•·ã• 26 ã®é…åˆ—ã‚’ä½œã‚Šã¾ã™ã€‚
ã“ã‚Œã‚’ã‚¿ãƒ—ãƒ«ã«å¤‰æ›ã™ã‚Œã°ã€ã‚½ãƒ¼ãƒˆã›ãšã«ã‚­ãƒ¼ã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚


### ã‚³ãƒ¼ãƒ‰
```py
class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        groups = collections.defaultdict(list)
        for s in strs:
            count = [0] * 26
            for ch in s:
                count[ord(ch) - ord('a')] += 1
            key = tuple(count)
            groups[key].append(s)
        return list(groups.values())
```

`count = [0] * 26` ã§ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆç”¨ã®é…åˆ—ã‚’ç”¨æ„ã—ã¾ã™ã€‚
å˜èªã‚’1æ–‡å­—ãšã¤`count[ord(ch) - ord('a')] += 1`ã§å‡ºç¾ã—ãŸæ–‡å­—ã«å¯¾å¿œã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å€¤ã‚’+1ã—ã¾ã™ã€‚
`ord`ã¯1æ–‡å­—ã®unicodeã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç¤ºã™æ•´æ•°ã‚’è¿”ã—ã¾ã™ã€‚

ä¾‹ï¼š
- æ–‡å­—ãŒa: `ord(ch) - ord('a')` = 0
- æ–‡å­—ãŒe: `ord(ch) - ord('a')` = 4


### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n * m)
    - å„å˜èªã§æ–‡å­—ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã®ã«O(m)
    - ã“ã‚Œã‚’nå€‹ã®å˜èªã«å¯¾ã—ã¦è¡Œã†
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(n * m)
