---
title: "LeetCode 20. Valid Parentheses(Python3)"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "python"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ20. Valid Parenthesesã€ã®å•é¡Œã‚’**Python3**ã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/valid-parentheses/description/

### å•é¡Œæ–‡
Given a string `s` containing just the characters ` '('`, ` ')'`, ` '{'`, ` '}'`, ` '['` and ` ']'`, determine if the input string is valid.

An input string is valid if:
1.Open brackets must be closed by the same type of brackets.
2.Open brackets must be closed in the correct order.
3.Every close bracket has a corresponding open bracket of the same type.

**å’Œè¨³**
æ–‡å­— ` '('`, ` ')'`, ` '{'`, ` '}'`, ` '['`, ` ']'` ã‚’å«ã‚€æ–‡å­—åˆ— `s` ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ãã€ãã®å…¥åŠ›æ–‡å­—åˆ—ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ã€‚

å…¥åŠ›æ–‡å­—åˆ—ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã®ã¯ã€ä»¥ä¸‹ã®å ´åˆã§ã‚ã‚‹ï¼š
1.é–‹ãæ‹¬å¼§ã¯ã€åŒã˜ç¨®é¡ã®æ‹¬å¼§ã§é–‰ã˜ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
2.é–‹ãæ‹¬å¼§ã¯æ­£ã—ã„é †åºã§é–‰ã˜ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
3.ã©ã®é–‰ã˜æ‹¬å¼§ã«ã‚‚ã€å¯¾å¿œã™ã‚‹åŒã˜å‹ã®é–‹ãæ‹¬å¼§ãŒã‚ã‚‹ã€‚

### ä¾‹
1.
```
Input: s = "()"

Output: true
```

2.
```
Input: s = "()[]{}"

Output: true
```

3.
```
Input: s = "(]"

Output: false
```

4.
```
Input: s = "([])"

Output: true
```

### åˆ¶ç´„
- `1 <= s.length <= 104`
- `s` consists of parentheses only `'()[]{}'`.

## è§£ç­”
ã“ã®å•é¡Œã§ã€æ‹¬å¼§ãŒæ­£ã—ã„é †åºã§é–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ã«ã¯ã€**æœ€å¾Œã«é–‹ã„ãŸæ‹¬å¼§ãŒæœ€åˆã«é–‰ã˜ã‚‰ã‚Œã‚‹**å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ **LIFOï¼ˆLast-In-First-Outï¼‰** ã®æ§‹é€ ã§ã‚ã‚‹ **ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆStackï¼‰** ã‚’ç”¨ã„ã‚‹ã®ãŒæœ‰åŠ¹ã§ã™ã€‚

```py
class Solution:
    def isValid(self, s: str) -> bool:
        stack = collections.deque([])
        pairs = { "(": ")", "{": "}", "[": "]" }
        for ch in s:
            if ch in pairs:
                stack.append(ch)
            elif len(stack) == 0 or pairs[stack.pop()] != ch:
                    return False
        return len(stack) == 0
```

ã“ã“ã§ã¯ã‚¹ã‚¿ãƒƒã‚¯ç”¨é€”ã‚’æ˜ç¤ºã™ã‚‹ãŸã‚ã« `collections.deque`ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€`list`ã§ã‚‚ååˆ†ã§ã™ã€‚
```py
stack = []
```

`pairs` ã¯è¾æ›¸å‹ã§é–‹ãæ‹¬å¼§ã¨é–‰ã˜æ‹¬å¼§ã®å¯¾å¿œã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
å¼•æ•°ã®æ–‡å­—åˆ—ã®å„æ–‡å­—ã‚’èµ°æŸ»ã—ãªãŒã‚‰ä»¥ä¸‹ã®æµã‚Œã§åˆ¤å®šã‚’ã—ã¦ã„ã¾ã™ã€‚
1.	é–‹ãæ‹¬å¼§ãªã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã« push
2.	é–‰ã˜æ‹¬å¼§ãªã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã®ãƒˆãƒƒãƒ—ã¨æ¯”è¼ƒ
    -	ã‚¹ã‚¿ãƒƒã‚¯ãŒç©ºãªã‚‰ä¸æ­£
	-	ãƒˆãƒƒãƒ—ã¨å¯¾å¿œã—ã¦ã„ãªã‘ã‚Œã°ä¸æ­£
	-	å¯¾å¿œã—ã¦ã„ã‚Œã° pop
3.	æœ€å¾Œã«ã‚¹ã‚¿ãƒƒã‚¯ãŒç©ºãªã‚‰ True


### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
    - å„æ–‡å­—ã‚’ä¸€åº¦ã ã‘å‡¦ç†ã™ã‚‹
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(n)
    - ã‚¹ã‚¿ãƒƒã‚¯ã«æœ€å¤§nå€‹ã®æ‹¬å¼§ãŒç©ã¾ã‚Œã‚‹