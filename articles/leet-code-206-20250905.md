---
title: "LeetCode 206. Reverse Linked List (Python3)"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "python"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ206. Reverse Linked Listã€ã®å•é¡Œã‚’ **Python3** ã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/reverse-linked-list/description/

### å•é¡Œæ–‡
Given the head of a singly linked list, reverse the list, and return the reversed list.

**å’Œè¨³**
å˜æ–¹å‘ãƒªã‚¹ãƒˆã®ãƒ˜ãƒƒãƒ‰ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ã€ãƒªã‚¹ãƒˆã‚’åè»¢ã—ã€åè»¢ã—ãŸãƒªã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚

### ä¾‹
1.
```
1 â†’ 2 â†’ 3 â†’ 4 â†’ 5
        â†“
5 â†’ 4 â†’ 3 â†’ 2 â†’ 1

Input: head = [1,2,3,4,5]
Output: [5,4,3,2,1]
```

2.
```
Input: head = [1,2]
Output: [2,1]
```

3.
```
Input: head = []
Output: []
```

### åˆ¶ç´„
- The number of nodes in the list is the range [0, 5000].
- -5000 <= Node.val <= 5000

## è§£ç­”1
å˜æ–¹å‘ãƒªã‚¹ãƒˆã‚’åè»¢ã•ã›ã‚‹å•é¡Œã§ã™ã€‚
ãƒªã‚¹ãƒˆã®ãƒãƒ¼ãƒ‰ã‚’å…ˆé ­ã‹ã‚‰1ã¤ãšã¤ã‚¹ã‚¿ãƒƒã‚¯ã«è¿½åŠ ã—ã¦ã„ãã€ãã®å¾Œã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰1ã¤ãšã¤popã—ãªãŒã‚‰é€£çµã—ã¦ã„ãã“ã¨ã§åè»¢ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```py
class Solution:
    def reverseList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        if head is None:
            return head

        stack = []
        while head:
            stack.append(head)
            head = head.next

        new_head = stack.pop()
        curr = new_head
        while stack:
            curr.next = stack.pop()
            curr = curr.next
        
        curr.next = None
        return new_head
```

1ã¤ç›®ã®whileã§ã‚¹ã‚¿ãƒƒã‚¯ã«é †ã«ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚
2ã¤ç›®ã®whileã§ã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å¾Œã®è¦ç´ ã‚’`new_head`ã¨ã—ã¦ã€popã—ãªãŒã‚‰ãƒªã‚¹ãƒˆã‚’åè»¢ã•ã›ã¦ã„ã¾ã™ã€‚
ãªãŠã€ã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å¾Œã«æ®‹ã£ãŸè¦ç´ ã¯`next`ãŒå…ƒã®çŠ¶æ…‹ã®ã¾ã¾ãªã®ã§ã€ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ãŸå¾Œã«`curr.next = None`ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒå¿…è¦ã§ã™ã€‚

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
    - å„ãƒãƒ¼ãƒ‰2å›ãšã¤å‡¦ç†ã™ã‚‹
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(n)
    - å…¨ã¦ã®ãƒãƒ¼ãƒ‰ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã®ã§nå€‹ãƒ¡ãƒ¢ãƒªãŒå¿…è¦

## è§£ç­”2
ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ã‚ãšã«è§£ãã“ã¨ã‚‚ã§ãã¾ã™ã€‚
ã“ã®æ–¹æ³•ãŒãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„ã§ã™ã€‚
ãƒªã‚¹ãƒˆã‚’ãŸã©ã‚ŠãªãŒã‚‰ãƒã‚¤ãƒ³ã‚¿ã‚’å¼µã‚Šæ›¿ãˆã¦ãƒªã‚¹ãƒˆã‚’é€†é †ã«ã™ã‚‹æ–¹æ³•ã§ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```py
class Solution:
    def reverseList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        prev = None
        curr = head
        while curr:
            nxt = curr.next # æ¬¡ã®ãƒãƒ¼ãƒ‰ã‚’ä¿æŒ
            curr.next = prev # çŸ¢å°ã®å‘ãã‚’é€†ã«ã™ã‚‹
            prev = curr # prev ã‚’é€²ã‚ã‚‹
            curr = nxt # curr ã‚’é€²ã‚ã‚‹
        return prev
```

### æµã‚Œ
ä¾‹ï¼šãƒªã‚¹ãƒˆãŒä»¥ä¸‹ã®å ´åˆ
```
1 -> 2 -> 3 -> None
```

#### åˆæœŸçŠ¶æ…‹
```
prev = None
curr = 1 -> 2 -> 3 -> None
```

#### 1å›ç›®ãƒ«ãƒ¼ãƒ—
1.	nxt = curr.next
```
nxt = 2 -> 3 -> None
```

2. curr.next = prev ï¼ˆ1ã® next ã‚’é€†å‘ãã«ã™ã‚‹ï¼‰
```
1 -> None
```

3. prev = curr
```
prev = 1 -> None
```

4. curr = nxt
```
curr = 2 -> 3 -> None
```

#### 2å›ç›®ãƒ«ãƒ¼ãƒ—
1.	nxt = curr.next
```
nxt = 3 -> None
```

2. curr.next = prev
```
2 -> 1 -> None
```

3. prev = curr
```
prev = 2 -> 1 -> None
```

4. curr = nxt
```
curr = 3 -> None
```

#### 3å›ç›®ãƒ«ãƒ¼ãƒ—
1.	nxt = curr.next
```
nxt = None
```

2. curr.next = prev
```
3 -> 2 -> 1 -> None
```

3. prev = curr
```
prev = 3 -> 2 -> 1 -> None
```

4. curr = nxt
```
curr = None
```

ã“ã“ã§ãƒ«ãƒ¼ãƒ—ãŒçµ‚äº†ã—ã€prevãŒæ–°ã—ã„ãƒªã‚¹ãƒˆã®å…ˆé ­ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚


### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
  - å„ãƒãƒ¼ãƒ‰1å›ãšã¤å‡¦ç†ã™ã‚‹
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(1)
  - ä½¿ã†ã®ã¯prev,curr,nxtã®å¤‰æ•°ã ã‘