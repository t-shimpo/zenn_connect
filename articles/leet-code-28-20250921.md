---
title: "LeetCode 28. Find the Index of the First Occurrence in a String"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "python"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ28. Find the Index of the First Occurrence in a Stringã€ã®å•é¡Œã‚’ **Python3** ã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/description/

### å•é¡Œæ–‡
Given two strings `needle` and `haystack`, return the index of the first occurrence of `needle` in `haystack`, or `-1` if `needle` is not part of `haystack`.

**å’Œè¨³**
2 ã¤ã®æ–‡å­—åˆ— `needle`ã¨ `haystack` ã‚’æŒ‡å®šã™ã‚‹ã¨ã€`haystack` å†…ã§ `needle`ãŒæœ€åˆã«å‡ºç¾ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚`needle`ãŒ `haystack` ã®ä¸€éƒ¨ã§ãªã„å ´åˆã¯ -1 ã‚’è¿”ã—ã¾ã™ã€‚

### ä¾‹
1.
```
Input: haystack = "sadbutsad", needle = "sad"
Output: 0
Explanation: "sad" occurs at index 0 and 6.
The first occurrence is at index 0, so we return 0.
```

2.
```
Input: haystack = "leetcode", needle = "leeto"
Output: -1
Explanation: "leeto" did not occur in "leetcode", so we return -1.
```

### åˆ¶ç´„
- 1 <= haystack.length, needle.length <= 104
- haystack and needle consist of only lowercase English characters.

## è§£ç­”
`haystack`ã®ä¸­ã«`needle`ã®æ–‡å­—ã®å…ˆé ­ãŒç¾ã‚ŒãŸã¨ãã«ã€ãã‚Œä»¥é™ã®æ–‡å­—ãŒ`needle`ã¨ä¸€è‡´ã™ã‚‹ã‹ãŒåˆ¤å®šã§ãã‚Œã°ç­”ãˆã‚’å°ãã“ã¨ãŒã§ãã¾ã™ã€‚
å½“åˆä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’è€ƒãˆã¾ã—ãŸã€‚

```py
class Solution:
    def strStr(self, haystack: str, needle: str) -> int:
        if len(haystack) < len(needle):
            return -1

        for i, ch in enumerate(haystack):
            if ch == needle[0]:
                if haystack[i:i+len(needle)] == needle:
                    return i

        return -1
```

ä¸Šè¨˜ã§ã‚‚é€šã‚Šã¾ã™ãŒã€`haystack`ã®æœ€å¾Œã¾ã§ç¢ºèªã—ã¾ã£ã¦ã„ã¾ã™ã€‚
å®Ÿéš›ã¯`needle`ãŒåã¾ã‚‹ç¯„å›²ã¾ã§ç¢ºèªã§ãã‚Œã°è‰¯ã„ã§ã™ã€‚

ä¾‹ãˆã°ã€ä»¥ä¸‹ã®å ´åˆã¯`haystack[8]`ï¼ˆæœ€å¾Œã®aã®ä½ç½®ï¼‰ä»¥é™ã¯ç¢ºèªã™ã‚‹å¿…è¦ãŒãªã„ã§ã™ã€‚
```
haystack = "sadbutsad", needle = "sad"
```
ãã‚Œã‚’è¸ã¾ãˆã¦ä»¥ä¸‹ã®ã‚ˆã†ã«æ”¹å–„ã§ãã¾ã™ã€‚


### ã‚³ãƒ¼ãƒ‰
```py
class Solution:
    def strStr(self, haystack: str, needle: str) -> int:
        for i in range(len(haystack) - len(needle) + 1):
            if haystack[i] == needle[0]:
                if haystack[i:i+len(needle)] == needle:
                    return i
        return -1
```

`len(haystack) - len(needle) + 1`ã§`needle`ãŒåã¾ã‚‹ç¯„å›²ã«ã—ã¦ã„ã¾ã™ã€‚

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n*m)
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(1)
