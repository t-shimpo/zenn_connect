---
title: "LeetCode 121. Best Time to Buy and Sell Stock"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "go"]
published: false
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ121. Best Time to Buy and Sell Stockã€ã®å•é¡Œã‚’Goã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/

### å•é¡Œæ–‡
You are given an array `prices` where `prices[i]` is the price of a given stock on the `ith` day.
You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.
Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return `0`.

**å’Œè¨³**
é…åˆ— `prices` ãŒä¸ãˆã‚‰ã‚Œã¾ã™ã€‚ã“ã“ã§ã€`prices[i]` ã¯ i æ—¥ç›®ã®ç‰¹å®šã®æ ªå¼ã®ä¾¡æ ¼ã§ã™ã€‚1 æ—¥ã‚’é¸æŠã—ã¦ 1 ã¤ã®æ ªå¼ã‚’è³¼å…¥ã—ã€å°†æ¥ã®åˆ¥ã®æ—¥ã«ãã®æ ªå¼ã‚’å£²å´ã™ã‚‹ã“ã¨ã§ã€åˆ©ç›Šã‚’æœ€å¤§åŒ–ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã“ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰é”æˆã§ãã‚‹æœ€å¤§ã®åˆ©ç›Šã‚’è¿”ã—ã¾ã™ã€‚åˆ©ç›Šã‚’é”æˆã§ããªã„å ´åˆã¯ã€`0` ã‚’è¿”ã—ã¾ã™ã€‚

### ä¾‹
1.
```
Input: prices = [7,1,5,3,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell.
```

2.
```
Input: prices = [7,6,4,3,1]
Output: 0
Explanation: In this case, no transactions are done and the max profit = 0.
```

### åˆ¶ç´„
- 1 <= prices.length <= 105
- 0 <= prices[i] <= 104

## è§£ç­”
æ ªã®å£²å´ã®åˆ©ç›Šã‚’æœ€å¤§åŒ–ã™ã‚‹å•é¡Œã§ã™ã€‚
`prices` ã‚’å·¦ã‹ã‚‰é †ã«è¦‹ã¦ã„ãã€ä»¥ä¸‹ã®2ã¤ã®ãƒã‚¤ãƒ³ãƒˆã‚’ç®¡ç†ã—ã¾ã™
- `minPrice`: ã“ã‚Œã¾ã§ã®æœ€å°ä¾¡æ ¼ï¼ˆæœ€ã‚‚å®‰ãè²·ãˆã‚‹ä¾¡æ ¼ï¼‰
- `profit`: ç¾æ™‚ç‚¹ã§ã®æœ€å¤§åˆ©ç›Š
ã“ã‚Œã‚’1å›ã®ãƒ«ãƒ¼ãƒ—ã§æ›´æ–°ã—ãªãŒã‚‰è§£ã‚’æ±‚ã‚ã¾ã™ã€‚

ä¾‹1ã ã¨ã€åˆ©ç›ŠãŒæœ€å¤§ã¨ãªã‚‹è³¼å…¥ãƒ»å£²å´ã®ä½ç½®ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ã€‚
```
  [7,  1,  5,  3,  6,  4]
       â†‘           â†‘
      è³¼å…¥         å£²å´
```
ã¾ãšã€7ã¨1ã§è¦‹ãŸã¨ãã«ã€æ•°ã®å°ã•ã„1ãŒä»®ã®è³¼å…¥ä¾¡æ ¼ã«ãªã‚Šã¾ã™ã€‚
ãã“ã‹ã‚‰ã€è³¼å…¥ä¾¡æ ¼ãŒæœ€å°ã¨ãªã‚‹ã‚‚ã®ã‚’æ›´æ–°ã—ã¦ã„ãã€åˆ©ç›Šã®æœ€å¤§å€¤ã‚‚æ›´æ–°ã—ã¦ã„ãã¨ç­”ãˆãŒå‡ºã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```go
func maxProfit(prices []int) int {
    minPrice := prices[0]
    profit := 0

    for i := 1; i < len(prices); i++ {
        if prices[i] < minPrice {
            minPrice = prices[i] // è²·ã„æ™‚ã‚’æ›´æ–°
        } else {
            profit = max(profit, prices[i] - minPrice) // åˆ©ç›Šã®æœ€å¤§å€¤ã‚’æ›´æ–°
        }
    }

    return profit
}

func max(a, b int) int {
    if a > b {
        return a
    }
    return b
}
```

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(1)
