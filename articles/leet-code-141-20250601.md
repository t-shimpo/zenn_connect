---
title: "LeetCode 141. Linked List Cycle"
emoji: "ğŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "go"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ141. Linked List Cycleã€ã®å•é¡Œã‚’Goã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/linked-list-cycle/description

### å•é¡Œæ–‡
Given `head`, the `head` of a linked list, determine if the linked list has a cycle in it.

There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the `next` pointer. Internally, `pos` is used to denote the index of the node that tail's `next` pointer is connected to. Note that `pos` is not passed as a parameter.

Return `true` if there is a cycle in the linked list. Otherwise, return `false`.

**å’Œè¨³**
ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã®å…ˆé ­ã§ã‚ã‚‹`head`ãŒä¸ãˆã‚‰ã‚ŒãŸã‚‰ã€ãã®ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã«ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ã€‚

ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã«ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚‹ã®ã¯ã€ãƒªã‚¹ãƒˆå†…ã«æ¬¡ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ãŸã©ã‚Šç¶šã‘ã‚‹ã“ã¨ã§å†ã³åˆ°é”ã§ãã‚‹ãƒãƒ¼ãƒ‰ãŒã‚ã‚‹å ´åˆã§ã‚ã‚‹ã€‚å†…éƒ¨çš„ã«ã¯ã€`pos`ã¯tailã®æ¬¡ã®ãƒã‚¤ãƒ³ã‚¿ãŒæ¥ç¶šã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ãƒ‰ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¡¨ã™ã®ã«ä½¿ã‚ã‚Œã‚‹ã€‚Â `pos`ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã•ã‚Œãªã„ã“ã¨ã«æ³¨æ„ã€‚

ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã«ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚Œã°`true`ã‚’è¿”ã™ã€‚ãã†ã§ãªã„å ´åˆã¯`false`ã‚’è¿”ã™ã€‚

### ä¾‹
1.
```
Input: head = [3,2,0,-4], pos = 1
Output: true
Explanation: There is a cycle in the linked list, where the tail connects to the 1st node (0-indexed).
```

2.
```
Input: head = [1,2], pos = 0
Output: true
Explanation: There is a cycle in the linked list, where the tail connects to the 0th node.
```

3.
```
Input: head = [1], pos = -1
Output: false
Explanation: There is no cycle in the linked list.
```

### åˆ¶ç´„
- The number of the nodes in the list is in the range [0, 104].
- -105 <= Node.val <= 105
- pos is -1 or a valid index in the linked-list.


### å•é¡Œã®ç†è§£
`ã‚µã‚¤ã‚¯ãƒ«`ã¨ã¯ã€ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã®ã©ã“ã‹ã®ãƒãƒ¼ãƒ‰ãŒã€å‰ã«ç™»å ´ã—ãŸãƒãƒ¼ãƒ‰ã‚’nextçµŒç”±ã§æŒ‡ã—ã¦ã—ã¾ã†çŠ¶æ…‹ã§ã™ã€‚
ã¤ã¾ã‚Šnextã‚’ãŸã©ã£ã¦ã„ãã¨ã€ã©ã“ã‹ã§æ°¸é ã«ãƒ«ãƒ¼ãƒ—ã™ã‚‹æ§‹é€ ã§ã™ã€‚

`pos`ã¨ã¯ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¨å†…éƒ¨çš„ã«æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®æƒ…å ±ã§ã™ã€‚
- pos = -1 â†’ ã‚µã‚¤ã‚¯ãƒ«ãªã—ï¼ˆ æœ€å¾Œã®ãƒãƒ¼ãƒ‰ï¼ˆtailï¼‰ã¯ã©ã“ã«ã‚‚ç¹‹ãŒã£ã¦ã„ãªã„ï¼‰
- pos >= 0 â†’ ã‚µã‚¤ã‚¯ãƒ«ã‚ã‚Šï¼ˆ æœ€å¾Œã®ãƒãƒ¼ãƒ‰ã® next ãŒã€ãƒªã‚¹ãƒˆä¸­ã®ã€Œposç•ªç›®ã®ãƒãƒ¼ãƒ‰ã€ã‚’æŒ‡ã—ã¦ã„ã‚‹ï¼‰

## è§£ç­”
ãƒ«ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã¯ã€**Floydã®å¾ªç’°æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ** ãŒã‚ˆãä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚
ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚

2ã¤ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ç”¨æ„ã—ã¾ã™ã€‚
- é€Ÿã„ãƒã‚¤ãƒ³ã‚¿=`fast`ï¼š1å›ã§2ã¤é€²ã‚€
- é…ã„ãƒã‚¤ãƒ³ã‚¿=`slow`ï¼š1å›ã§1ã¤é€²ã‚€

ã‚µã‚¤ã‚¯ãƒ«ãŒãªã‘ã‚Œã°`fast`ãŒnilã«åˆ°é”ã—ã€ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚Œã°ãŒå›ã£ã¦`slow`ã«è¿½ã„ã¤ãã¾ã™ã€‚
`fast`ã¯`slow`ã‚ˆã‚Šã‚‚1ã¤å¤šãé€²ã‚€ãŸã‚ã€ãƒ«ãƒ¼ãƒ—ãŒã‚ã‚‹å ´åˆã«ã¯ã€`fast`ã¯`slow`ã«1ã¤ãšã¤è¿‘ã¥ãã“ã¨ã«ãªã‚Šã€å¿…ãšé‡ãªã‚‹å ´æ‰€ãŒç¾ã‚Œã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```go
func hasCycle(head *ListNode) bool { 
    slow, fast := head, head

    for fast != nil && fast.Next != nil {
        slow = slow.Next
        fast = fast.Next.Next

        if slow == fast {
            return true
        }
    }

    return false
}
```

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(1) 
