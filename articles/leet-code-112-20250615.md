---
title: "LeetCode 112. Path Sum"
emoji: "ðŸ–‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["leetcode", "go"]
published: true
---
## ã¯ã˜ã‚ã«
LeetCode ã€Œ112. Path Sumã€ã®å•é¡Œã‚’Goã§è§£ãã¾ã—ãŸã€‚

## å•é¡Œ
https://leetcode.com/problems/path-sum/description

### å•é¡Œæ–‡
Given the `root` of a binary tree and an integer `targetSum`, return true if the tree has a root-to-leaf path such that adding up all the values along the path equals `targetSum`.

A leaf is a node with no children.

**å’Œè¨³**
äºŒåˆ†æœ¨ã®ãƒ«ãƒ¼ãƒˆã¨æ•´æ•° `targetSum` ãŒä¸Žãˆã‚‰ã‚ŒãŸã¨ãã€ãã®æœ¨ã«ãƒ«ãƒ¼ãƒˆã‹ã‚‰ãƒªãƒ¼ãƒ•ã¸ã®ãƒ‘ã‚¹ãŒã‚ã‚Šã€ãã®ãƒ‘ã‚¹ã«æ²¿ã£ãŸã™ã¹ã¦ã®å€¤ã®åˆè¨ˆãŒ `targetSum` ã¨ç­‰ã—ã„å ´åˆã«çœŸã‚’è¿”ã™ã€‚

ãƒªãƒ¼ãƒ•ã¨ã¯ã€å­ã‚’æŒãŸãªã„ãƒŽãƒ¼ãƒ‰ã§ã‚ã‚‹ã€‚

### ä¾‹
1.
```
         5          
      /     \        
     4       8    
   /        /  \    
  11       13   4
 /  \            \
7    2            1 
```

```
Input: root = [5,4,8,11,null,13,4,7,2,null,null,null,1], targetSum = 22
Output: true
Explanation: The root-to-leaf path with the target sum is shown.
```
5 + 4 + 11 + 2 = 22

2.
```
         1          
      /     \        
     2       3    
```
```
Input: root = [1,2,3], targetSum = 5
Output: false
Explanation: There are two root-to-leaf paths in the tree:
(1 --> 2): The sum is 3.
(1 --> 3): The sum is 4.
There is no root-to-leaf path with sum = 5.
```

3.
```
Input: root = [], targetSum = 0
Output: false
Explanation: Since the tree is empty, there are no root-to-leaf paths.
```

### åˆ¶ç´„
- The number of nodes in the tree is in the range [0, 5000].
- -1000 <= Node.val <= 1000
- -1000 <= targetSum <= 1000

## è§£ç­”1:DFSï¼ˆæ·±ã•å„ªå…ˆæ¤œç´¢ãƒ»å†å¸°ï¼‰
äºŒåˆ†æœ¨ã®ãƒ«ãƒ¼ãƒˆã‹ã‚‰ãƒªãƒ¼ãƒ•ã¾ã§ã®åˆè¨ˆãŒ`targetSum`ã¨ç­‰ã—ã„ã‹åˆ¤å®šã—ã¾ã™ã€‚
éƒ¨åˆ†çš„ãªçµŒè·¯ã§ã¯ãªãã€ãƒªãƒ¼ãƒ•ã«åˆ°é”ã™ã‚‹ã¾ã§ã‚’æ±‚ã‚ã¦ã„ã‚‹ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
1æœ¬ã®é“ã‚’æ·±ãè¾¿ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã€DFSã§è§£ãã®ãŒç›´æ„Ÿçš„ã§ã™ã€‚

çµŒè·¯ã‚’åˆè¨ˆã‚’ã©ã†ç®¡ç†ã™ã‚‹ã‹ã«ã¤ã„ã¦ã¯ã€ node.Val ã‚’è¶³ã—ã¦ã„ãæ–¹æ³•ã¨å¼•ã„ã¦ã„ãæ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
å¼•ã„ã¦ã„ãæ–¹æ³•ã®æ–¹ãŒã€å†å¸°çš„ã«å®Ÿè£…ã—ãŸå ´åˆã«åŠ¹çŽ‡çš„ã«è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰
```go
func hasPathSum(root *TreeNode, targetSum int) bool {
    if root == nil {
        return false
    }

    // ãƒªãƒ¼ãƒ•ãƒŽãƒ¼ãƒ‰ã«åˆ°é”ã—ãŸã‚‰ã€åˆè¨ˆãŒä¸€è‡´ã™ã‚‹ã‹ç¢ºèª
    if root.Left == nil && root.Right == nil {
        return root.Val == targetSum
    }

    // å·¦å³ã®ã©ã¡ã‚‰ã‹ã«ä¸€è‡´ã™ã‚‹ãƒ‘ã‚¹ãŒã‚ã‚Œã°OK
    return hasPathSum(root.Left, targetSum - root.Val) ||
           hasPathSum(root.Right, targetSum - root.Val)
}
```

### ã‚³ãƒ¼ãƒ‰ï¼ˆè¶³ã—ã¦ã„ãæ–¹æ³•ï¼‰
```go
func hasPathSum(root *TreeNode, targetSum int) bool {
    if root == nil {
        return false
    }
    return dfs(root, 0, targetSum)
}

func dfs(node *TreeNode, current int, targetSum int) bool {
    if node == nil {
        return false
    }
    current += node.Val

    if node.Left == nil && node.Right == nil {
        return current == targetSum
    }

    return dfs(node.Left, current, targetSum) ||
           dfs(node.Right, current, targetSum)
}
```

### 

### è¨ˆç®—é‡
- æ™‚é–“çš„è¨ˆç®—é‡ï¼šO(n)
  - n ã¯ãƒŽãƒ¼ãƒ‰æ•°ï¼ˆå„ãƒŽãƒ¼ãƒ‰ã‚’1å›žãšã¤è¨ªã‚Œã‚‹ï¼‰
- ç©ºé–“çš„è¨ˆç®—é‡ï¼šO(h)
  - h ã¯æœ¨ã®é«˜ã•ï¼ˆå†å¸°å‘¼ã³å‡ºã—ã®ã‚¹ã‚¿ãƒƒã‚¯ãŒæœ¨ã®é«˜ã•åˆ†ä½¿ã‚ã‚Œã‚‹ï¼‰


## å‚è€ƒ
äºŒåˆ†æœ¨ã®å•é¡Œã¯ã€ä»¥ä¸‹ã®è¨˜äº‹ã§ã‚‚ç´¹ä»‹ã—ã¦ã„ã¾ã™ã®ã§ã€å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚
- [LeetCode 100. Same Tree](https://zenn.dev/shimpo/articles/leet-code-100-20250608)
- [LeetCode 104. Maximum Depth of Binary Tree](https://zenn.dev/shimpo/articles/leet-code-104-20250607)
- [LeetCode 226. Invert Binary Tree](https://zenn.dev/shimpo/articles/leet-code-226-20250610)
- [LeetCode 101. Symmetric Tree](https://zenn.dev/shimpo/articles/leet-code-101-20250611)